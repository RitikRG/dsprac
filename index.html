<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ds Prac</title>
</head>
<body>

<pre>
<h3>File Details</h3>

import os
import stat
import time

def details(fileName):
    fileStatus=os.stat(fileName)
    filePermissions=stat.filemode(fileStatus.st_mode)
    fileTime=time.ctime(fileStatus.st_atime)
    print(fileName)
    print(filePermissions)
    print(fileTime)

details('srjf.py')


</pre>

<pre>
<h3>Copy File</h3>
import os

def copyFile(source,destination,bufferSize=1024):

    src=os.open(source, os.O_RDONLY)
    dst=os.open(destination, os.O_WRONLY, 0o644)
    while True:
        data=os.read(src,bufferSize)
        if data is None:
            break
        os.write(dst,data)
    os.close(src)
    os.close(dst)
    print('Done')

copyFile('src.txt','dest.txt')

</pre>

<pre>
<h3>First Come First Serve</h3>
def fcfs(processIds, burstTime):
    n=len(processIds)
    cpuTime=0
    completionTime=[0]*n
    turnAroundTime=[0]*n
    waitingTime=[0]*n
    print('| Pid | BT | CT | TAT | WT |')
    for i in range(n):
        cpuTime+=burstTime[i]
        completionTime[i]=cpuTime
        turnAroundTime[i]=cpuTime-i
        waitingTime[i]=turnAroundTime[i]-burstTime[i]
        print('| ',processIds[i],' | ',burstTime[i],' | ',completionTime[i],' | ',turnAroundTime[i],' | ',waitingTime[i],' |')
    print('Average Turn Around Time: ',sum(turnAroundTime)/n,'units')
    print('Average Waiting Time: ',sum(waitingTime)/n,'units')

process=["P1",'P2','P3','P4','P5','P6','P7','P8']
burstTime=[3,2,5,4,1,7,8,4]
fcfs(process,burstTime)
    

</pre>

<pre>
<h3>Shortest Job First</h3>
def sjf(process, burstTime):
    data=list(zip(process,burstTime))
    data.sort(key=lambda x: x[1])
    n=len(process)
    cpuTime=0
    completionTime=[0]*n
    turnAroundTime=[0]*n
    waitingTime=[0]*n
    print('| Pid | BT | CT | TAT | WT |')
    for i in range(n):
        cpuTime+=data[i][1]
        completionTime[i]=cpuTime
        turnAroundTime[i]=cpuTime
        waitingTime[i]=turnAroundTime[i]-data[i][1]
        print('| ',data[i][0],' | ',data[i][1],' | ',completionTime[i],' | ',turnAroundTime[i],' | ',waitingTime[i],' |')
    print('Average Turn Around Time: ',sum(turnAroundTime)/n,'units')
    print('Average Waiting Time: ',sum(waitingTime)/n,'units')

process=['P1','P2','P3','P4','P5','P6','P7']
burstTime=[5,10,1,6,2,11,4]
sjf(process,burstTime)

</pre>

<pre>
<h3>Priority Scheduling Non Preemptive</h3>
def priorityNP(process,priority,burstTime):
    data = list(zip(process,priority,burstTime))
    data.sort(key=lambda x:x[1],reverse=True)
    cpuTime=0
    n=len(process)
    completionTime=[0]*n
    turnAroundTime=[0]*n
    waitingTime=[0]*n
    print('| Pid | Pr | BT | CT | TAT | WT |')
    for i in range(n):
        cpuTime+=data[i][2]
        completionTime[i]=cpuTime
        turnAroundTime[i]=cpuTime
        waitingTime[i]= turnAroundTime[i]-data[i][2]
        print('| ',data[i][0],'| ',data[i][1],' | ',data[i][2],' | ',completionTime[i],' | ',turnAroundTime[i],' | ',waitingTime[i],' |')
    print('Average Turn Around Time: ',sum(turnAroundTime)/n,'units')
    print('Average Waiting Time: ',sum(waitingTime)/n,'units')  

process=['P1','P2','P3','P4','P5','P6','P7','P8']
priority=[5,8,2,1,7,3,6,4]
burstTime=[10,1,2,4,8,12,3,11]
priorityNP(process,priority,burstTime)

</pre>

<pre>
<h3>Shortest Remaining Job First</h3>
<code>
class Process:
    def __init__(self,proId,at,bt):
        self.pId=proId
        self.arrivalTime=at
        self.burstTime=bt
        self.remainingJobTime=bt
        self.turnAroundTime=None
        self.completionTime=None
        self.waitingTime=None

def srjf(processes):
    n=len(processes)
    cpuTime=0
    completed=0
    while completed!=n:
        currentProcess=None
        for process in processes:
            if process.arrivalTime lessThanSymbolLgaLo =cpuTime and process.remainingJobTime>0:
                if currentProcess is None or process.remainingJobTime lessThanSymbolLgaLo currentProcess.remainingJobTime:
                    currentProcess=process
        if currentProcess is None:
            cpuTime+=1
        else:
            cpuTime+=1
            currentProcess.remainingJobTime-=1
            if currentProcess.remainingJobTime==0:
                completed+=1
                currentProcess.completionTime=cpuTime
                currentProcess.turnAroundTime=cpuTime-currentProcess.arrivalTime
                currentProcess.waitingTime=currentProcess.turnAroundTime-currentProcess.burstTime
    return processes

def printRes(processes):
    print('| Pid | AT | BT | CT | TAT | WT |')
    for process in processes:
        print('| ',process.pId,'| ',process.arrivalTime,' | ',process.burstTime,' | ',process.completionTime,' | ',process.turnAroundTime,' | ',process.waitingTime,' |')
        
def avgTAT(processes):
    total=0
    for process in processes:
        total+=process.turnAroundTime
    print('Average Turn around Time: ',total/len(processes))
    
def avgWT(processes):
    total=0
    for process in processes:
        total+=process.waitingTime
    print('Average Waiting Time: ',total/len(processes))

p1=Process('P1',0,5)
p2=Process('P2',1,3)
p3=Process('P3',2,1)
p4=Process('P4',3,5)
p5=Process('P5',4,1)

processes=[p1,p2,p3,p4,p5]
processes=srjf(processes)
printRes(processes)
avgTAT(processes)
avgWT(processes) 
</code>
</pre>

</body>
</html>